(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Index/Index"],{"1ee0":function(n,o,t){"use strict";(function(n,o){var e=t("4ea4");t("0720");e(t("66fd"));var i=e(t("cb47"));n.__webpack_require_UNI_MP_PLUGIN__=t,o(i.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},2290:function(n,o,t){},2517:function(n,o,t){"use strict";(function(n){var e=t("4ea4");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=e(t("2eee")),a=e(t("c973")),r=e(t("9523")),u=t("26cb");function c(n,o){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);o&&(e=e.filter((function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),t.push.apply(t,e)}return t}function s(n){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?c(Object(t),!0).forEach((function(o){(0,r.default)(n,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))}))}return n}var d={name:"index",data:function(){return{isShow:!1,scrollIntoView:"",isShowLoading:!1}},computed:s({},(0,u.mapState)({access_token:function(n){return n["access_token"]},indexData:function(n){return n.index.indexData},token:function(n){return n.token},loginObj:function(n){return n.user.loginObj},autoLoginToast:function(n){return n.index.autoLoginToast}})),methods:s(s(s({},(0,u.mapMutations)("index",["reWriteAutoLoginToast"])),(0,u.mapActions)("index",["getIndexData"])),{},{handleScroll:function(n){this.scrollIntoView="",this.isShow=n.detail.scrollTop>=500},goTop:function(){this.scrollIntoView="top"},handleGoBanner:function(){n.navigateTo({url:""})},handleImg:function(n){console.log(n)}}),onShow:function(){console.log("index onshow"),n.hideTabBar({animation:!1})},onLoad:function(){console.log("index onload")},created:function(){var n=this;return(0,a.default)(i.default.mark((function o(){var t;return i.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return console.log("index created"),n.$bus.$on("hiddenShopCartCard",(function(){n.isShowLoading=!1})),n.$bus.$on("addShopCartSuccess",(function(o){console.log("add success"),n.isShowLoading=!1,n.$toast("success",o)})),n.$bus.$on("addShopCartFail",(function(o){console.log("add fail"),n.isShowLoading=!1,n.$toast("error",o)})),n.$bus.$on("showLoadingPage",(function(){n.isShowLoading=!0})),n.$bus.$on("showToast",(function(o){var t=o.type,e=o.msg;n.$toast(t,e)})),o.next=8,n.getIndexData().catch((function(n){return n}));case 8:t=o.sent,n.isShowLoading=!1,1!==t.code&&n.$toast("error",t.msg||"获取indexData出错");case 11:case"end":return o.stop()}}),o)})))()},mounted:function(){return 0===Object.keys(this.autoLoginToast).length?console.error("index.vue:自动登录出现错误, index.vue页面找不到toast信息, 可能情况是在index.vue的mounted调用之前, 服务器未返回自动登录的数据"):1===this.autoLoginToast.code?(this.$notify("success",this.autoLoginToast.msg,{top:"120rpx"}),this.reWriteAutoLoginToast({})):0===this.autoLoginToast.code&&this.autoLoginToast.msg?(this.$notify("error",this.autoLoginToast.msg,{top:"200rpx"}),this.reWriteAutoLoginToast({})):void 0},components:{goodShow:function(){t.e("components/goodShow/goodShow").then(function(){return resolve(t("3924"))}.bind(null,t)).catch(t.oe)},indexSkeleton:function(){t.e("components/IndexSkeleton/IndexSkeleton").then(function(){return resolve(t("58ab"))}.bind(null,t)).catch(t.oe)}},watch:{isLogin:function(n){console.log("isLogin切换"),console.log("isLogin:"+n)},autoLoginToast:function(n){console.log("%c index.vue:检测到autoLoginToast数据变更为以下数据","padding:2px 4px;color:yellow;background-color:green"),console.log(n),0!==Object.keys(n).length&&1===n.code&&(this.$notify("success",n.msg),this.reWriteAutoLoginToast({}))}}};o.default=d}).call(this,t("543d")["default"])},"3fdd":function(n,o,t){"use strict";t.d(o,"b",(function(){return i})),t.d(o,"c",(function(){return a})),t.d(o,"a",(function(){return e}));var e={uToast:function(){return t.e("uni_modules/uview-ui/components/u-toast/u-toast").then(t.bind(null,"472c"))},uNotify:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-notify/u-notify")]).then(t.bind(null,"931c"))},uLoadingPage:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(t.bind(null,"f837"))}},i=function(){var n=this.$createElement,o=(this._self._c,this.indexData.length),t=this.indexData.length;this.$mp.data=Object.assign({},{$root:{g0:o,g1:t}})},a=[]},b328:function(n,o,t){"use strict";var e=t("2290"),i=t.n(e);i.a},cb47:function(n,o,t){"use strict";t.r(o);var e=t("3fdd"),i=t("eaf9");for(var a in i)["default"].indexOf(a)<0&&function(n){t.d(o,n,(function(){return i[n]}))}(a);t("b328");var r=t("f0c5"),u=Object(r["a"])(i["default"],e["b"],e["c"],!1,null,"516968ad",null,!1,e["a"],void 0);o["default"]=u.exports},eaf9:function(n,o,t){"use strict";t.r(o);var e=t("2517"),i=t.n(e);for(var a in e)["default"].indexOf(a)<0&&function(n){t.d(o,n,(function(){return e[n]}))}(a);o["default"]=i.a}},[["1ee0","common/runtime","common/vendor"]]]);