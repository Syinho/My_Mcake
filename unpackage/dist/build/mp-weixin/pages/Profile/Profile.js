(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Profile/Profile"],{"0e70":function(o,e,t){"use strict";var n=t("1d05"),i=t.n(n);i.a},"1d05":function(o,e,t){},"3ce1":function(o,e,t){"use strict";t.r(e);var n=t("3fc9"),i=t("670f");for(var s in i)["default"].indexOf(s)<0&&function(o){t.d(e,o,(function(){return i[o]}))}(s);t("529f"),t("0e70");var c=t("f0c5"),r=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=r.exports},"3fc9":function(o,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return s})),t.d(e,"a",(function(){return n}));var n={uModal:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-modal/u-modal")]).then(t.bind(null,"c92c"))},uToast:function(){return t.e("uni_modules/uview-ui/components/u-toast/u-toast").then(t.bind(null,"472c"))}},i=function(){var o=this.$createElement;this._self._c},s=[]},"529f":function(o,e,t){"use strict";var n=t("8b2f"),i=t.n(n);i.a},"64a8":function(o,e,t){"use strict";(function(o,e){var n=t("4ea4");t("0720");n(t("66fd"));var i=n(t("3ce1"));o.__webpack_require_UNI_MP_PLUGIN__=t,e(i.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},"670f":function(o,e,t){"use strict";t.r(e);var n=t("7853"),i=t.n(n);for(var s in n)["default"].indexOf(s)<0&&function(o){t.d(e,o,(function(){return n[o]}))}(s);e["default"]=i.a},7853:function(o,e,t){"use strict";(function(o){var n=t("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(t("2eee")),s=n(t("c973")),c=n(t("9523")),r=t("26cb");function a(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.push.apply(t,n)}return t}function u(o){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){(0,c.default)(o,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))}))}return o}var f={data:function(){return{list:[{name:"我的订单",icon:"icon-dingdanorder-fill"},{name:"待付款",icon:"icon-wallet_fill"},{name:"待收货",icon:"icon-import"},{name:"会员等级",icon:"icon-VIP"},{name:"积分",icon:"icon-icon-integral"},{name:"余额",icon:"icon-money"},{name:"红包/优惠券",icon:"icon-redenvelope-fill"},{name:"现金卡",icon:"icon-creditcard-fill"}],login:{title:"温馨提示",content:"您需要先登录才能继续您的操作"},logout:{title:"提示信息",content:"确定要退出账号吗?"},isShowLogin:!1,isShowLogout:!1}},computed:u(u({},(0,r.mapState)("user",{phone:function(o){return o.phone},isLogin:function(o){return o.isLogin},loginWay:function(o){return o.loginWay},avatar:function(o){return o.avatar},userName:function(o){return o.userName}})),(0,r.mapState)("profile",{isShowLoginSuccessToast:function(o){return o.isShowLoginSuccessToast},isShowRegisterSuccessToast:function(o){return o.isShowRegisterSuccessToast}})),beforeCreate:function(){console.log("profile beforeCreate")},created:function(){console.log("profile created"),this.isLogin?this.isShowLogin=!1:this.isShowLogin=!0},watch:{islogin:function(o){o?(console.log("/profile watch isLogin 数据更改为 "+o),this.isShowLogin=!1):(console.log("/profile watch isLogin 数据更改为 "+o),this.isShowLogin=!0)}},mounted:function(){},onLoad:function(){console.log("profile onLoad")},onShow:function(){console.log("profile onshow"),o.hideTabBar({animation:!1}),this.isLogin?this.isShowLogin=!1:this.isShowLogin=!0,this.isLogin&&(this.isShowLogin=!1,this.isShowLoginSuccessToast&&(this.$refs.uToast&&this.$refs.uToast.show({type:"success",message:"登录成功"}),this.toggleLoginSuccessToast(!1)),this.isShowRegisterSuccessToast&&(this.$refs.uToast&&this.$refs.uToast.show({type:"success",message:"注册成功"}),this.toggleRegisterSuccessToast(!1)))},onHide:function(){this.isShowLogin=!1,this.isShowLogout=!1},methods:u(u(u(u(u({},(0,r.mapMutations)("user",["updatePhone","updateToken","toggleLoginStatus","toggleIsLogin"])),(0,r.mapMutations)("profile",["toggleLoginSuccessToast","toggleRegisterSuccessToast"])),(0,r.mapActions)("user",["clearLoginInfo"])),(0,r.mapMutations)("shopCart",["reWriteCartList"])),{},{handleToLogin:function(){console.log("跳转/login"),this.$switchPage({pageName:"Login"})},confirm:function(){this.$switchPage({pageName:"Login"})},cancel:function(){this.$switchPage({pageName:"Index"})},handleLogout:function(){this.isShowLogout=!0},confirmLogout:function(){var o=this;return(0,s.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.phone,o.clearLoginInfo(),e.next=4,o.$removeStorage("token").catch((function(o){return o}));case 4:e.sent,o.isShowLogout=!1,o.reWriteCartList([]),"password"===o.loginWay?o.$switchPage({pageName:"Login",options:"tabCur=1&phone=".concat(t)}):o.$switchPage({pageName:"Login"}),o.isShowLogin=!0;case 9:case"end":return e.stop()}}),e)})))()},cancelLogout:function(){this.isShowLogout=!1}})};e.default=f}).call(this,t("543d")["default"])},"8b2f":function(o,e,t){}},[["64a8","common/runtime","common/vendor"]]]);